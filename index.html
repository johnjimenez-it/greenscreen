<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Green Screen Kiosk</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="welcome-active">
  <main id="app">
    <header class="app-header">
      <h1 id="eventName">Green Screen Express</h1>
      <p class="subtitle" id="eventTagline"></p>
      <p class="price" id="eventPrice"></p>
      <p class="price running-total" id="running-total" aria-live="polite"></p>
    </header>

    <nav id="progress-indicator" class="progress-indicator" aria-label="Photo experience progress"></nav>

    <section
      id="screen-welcome"
      class="screen screen-welcome active"
      aria-labelledby="welcome-title"
      aria-describedby="welcome-cta"
      role="button"
      tabindex="0"
    >
      <div class="welcome-card" id="welcome-card">
        <p class="welcome-pretitle" id="welcome-tagline">Step into the spotlight</p>
        <h2 id="welcome-title" class="welcome-title">
          <span id="welcome-event-name">Green Screen Express</span>
        </h2>
        <p class="welcome-price" id="welcome-price">Free</p>
        <p class="welcome-cta" id="welcome-cta">
          <span class="welcome-cta-primary">Start Your Photo Experience</span>
          <span class="welcome-cta-secondary">✨ Tap Anywhere to Continue ✨</span>
        </p>
      </div>
    </section>

    <section id="screen-background" class="screen">
      <div class="background-layout">
        <div class="background-selection background-selection-card" aria-live="polite">
          <div class="background-card-header">
            <h2>Select a Background</h2>
            <div
              id="background-tablist"
              class="background-tabs"
              role="tablist"
              aria-label="Background categories"
            ></div>
          </div>
          <div class="background-card-body">
            <div class="background-grid-wrapper">
              <div
                id="background-grid"
                class="background-grid background-thumb-grid"
                role="group"
                aria-live="polite"
                aria-label="Background choices"
              ></div>
            </div>
          </div>
        </div>
        <div class="background-controls">
          <button class="secondary" id="multi-background-toggle" type="button" aria-pressed="false">
            Add Multi-Background Package (+$10)
          </button>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-background-preview" class="screen">
      <div class="background-preview-layout">
        <div class="background-selection-card background-preview-card" aria-live="polite">
          <div class="background-card-header">
            <h2>Preview Your Backgrounds</h2>
            <p class="instruction" id="multi-background-note">
              Add a second background setup for an additional fee.
            </p>
          </div>
          <div class="background-preview-panel">
            <div id="background-preview" class="background-preview" aria-live="polite">
              <div class="preview-slot" data-slot="0">Choose a background</div>
              <div class="preview-slot secondary" data-slot="1">Turn on Multi-Background to add another scene</div>
            </div>
            <p id="selected-background-name" class="selected-background-name">No background selected</p>
            <p class="instruction preview-hint">Review your selection before continuing.</p>
          </div>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-party" class="screen screen-party">
      <div class="party-card">
        <h2>Party Details</h2>
        <label class="touch-field party-name-field" data-keyboard-target="party-name">
          <span>Party Name</span>
          <input id="party-name" type="text" maxlength="50" autocomplete="off" readonly />
        </label>
        <div class="form-grid party-details-grid">
          <div class="details-box">
            <h3 id="people-count-label">How many people?</h3>
            <div class="stepper" aria-labelledby="people-count-label">
              <button class="minus" type="button" aria-label="Decrease number of people">-</button>
              <span id="peopleCount" role="status" aria-live="polite" aria-label="Selected number of people">1</span>
              <button class="plus" type="button" aria-label="Increase number of people">+</button>
            </div>
          </div>

          <div class="details-box">
            <h3 id="scene-count-label">How many scenes?</h3>
            <p class="included-info" id="scene-count-helper">Included: 1 (Extra +$5.00 each after included)</p>
            <div class="stepper" aria-labelledby="scene-count-label" aria-describedby="scene-count-helper">
              <button class="minus-scene" type="button" aria-label="Decrease number of scenes">-</button>
              <span id="sceneCount" role="status" aria-live="polite" aria-label="Selected number of scenes">1</span>
              <button class="plus-scene" type="button" aria-label="Increase number of scenes">+</button>
            </div>
          </div>
        </div>
        <div class="nav-buttons party-nav">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Next</button>
        </div>
      </div>
    </section>

    <section id="screen-selfie" class="screen">
      <h2>Quick Selfie (optional)</h2>
      <p class="instruction">Capture a fast preview photo to remember who stopped by.</p>
      <div class="selfie-card">
        <video id="selfie-video" autoplay playsinline></video>
        <canvas id="selfie-canvas" class="hidden"></canvas>
        <div class="selfie-actions">
          <button class="secondary" id="selfie-start" title="Enable the built-in camera">Enable Camera</button>
          <button class="primary" id="selfie-capture" disabled title="Capture a quick selfie">Take Snapshot</button>
          <button class="secondary" id="selfie-retake" disabled title="Retake the selfie">Retake</button>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-delivery" class="screen">
      <h2>Delivery Options</h2>
      <div class="form-grid">
        <label>
          <span>Delivery Method</span>
          <div class="touch-selector" id="delivery-method"></div>
        </label>
        <label>
          <span>How many prints?</span>
          <div class="touch-selector" id="prints-count"></div>
        </label>
        <label>
          <span>Emails to send?</span>
          <div class="touch-selector" id="email-count"></div>
        </label>
      </div>
      <div id="emailInputs" class="email-container"></div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-payment" class="screen">
      <h2>Payment</h2>
      <p id="payment-note" class="instruction"></p>
      <div class="touch-selector" id="payment-method"></div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Review</button>
      </div>
    </section>

    <section id="screen-review" class="screen">
      <h2>Review Your Order</h2>
      <div id="review-summary" class="summary-card"></div>
      <button class="primary" id="confirm-btn" title="Review and confirm your order">Confirm &amp; Print Receipt</button>
      <button class="secondary" data-prev>Back</button>
    </section>

    <section id="screen-receipt" class="screen">
      <h2>Receipt</h2>
      <div class="receipt" id="receipt-output"></div>
      <button class="primary" id="print-btn" title="Send both copies to the printer">Print Receipt</button>
      <button class="secondary" id="finish-btn" title="Restart the kiosk flow">Start Over</button>
    </section>

    <section id="screen-keyboard" class="screen keyboard-screen">
      <h2>Tap letters to type</h2>
      <div id="keyboard-display" class="keyboard-display"></div>
      <div class="keyboard-keys" id="keyboard-keys"></div>
      <button class="primary" id="keyboard-done">Done</button>
      <button class="secondary" id="keyboard-clear">Clear</button>
    </section>
  </main>

  <template id="background-option-template">
    <button class="background-option">
      <span class="label"></span>
    </button>
  </template>

  <template id="touch-option-template">
    <button class="touch-option"></button>
  </template>

  <div id="confirm-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirm-title">
    <div class="modal-content">
      <h3 id="confirm-title">Ready to print?</h3>
      <p>Double-check the details before printing. Continue when you are ready.</p>
      <div class="modal-actions">
        <button class="secondary" id="cancel-confirm">Cancel</button>
        <button class="primary" id="continue-confirm">Looks Good</button>
      </div>
    </div>
  </div>

  <div id="idle-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="idle-title">
    <div class="modal-content idle-modal-content">
      <h3 id="idle-title">Are you still there?</h3>
      <p>We’ll return to the welcome screen in <span id="idle-countdown">10</span> seconds.</p>
      <div class="modal-actions">
        <button class="primary" id="idle-stay">I’m still here</button>
      </div>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
